<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0a0e1a">
    <title>ConsoleTracker - Gestion de vos consoles</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIkNvbnNvbGVUcmFja2VyIiwKICAic2hvcnRfbmFtZSI6ICJDb25zb2xlVHJhY2tlciIsCiAgImRlc2NyaXB0aW9uIjogIkdlc3Rpb24gZGUgdm9zIGNvbnNvbGVzIGRlIGpldXgiLAogICJzdGFydF91cmwiOiAiLiIsCiAgImRpc3BsYXkiOiAic3RhbmRhbG9uZSIsCiAgImJhY2tncm91bmRfY29sb3IiOiAiIzBhMGUxYSIsCiAgInRoZW1lX2NvbG9yIjogIiMwYTBlMWEiLAogICJpY29ucyI6IFsKICAgIHsKICAgICAgInNyYyI6ICJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXhPVElpSUdobGFXZG9kRDBpTVRreUlqNDhjbVZqZENCM2FXUjBhRDBpTVRreUlpQm9aV2xuYUhROUlqRTVNaUlnWm1sc2JEMGlJekEyTVRKalpDSXZQanh3WVhSb0lHUTlJazB5TkNBMU1peDJPRGhvTVRRMGRqZzRTREkwZWlJZ1ptbHNiRDBpSXpBMk1USmpaQ0l2UGp4d1lYUm9JR1E5SWswMk5DQTRNREJvTmpSMk1qUklOalI2SWlCbWFXeHNQU0lqTURZeE1tTmtJaTgrUEhCaGRHZ2daRDBpVFRFeU9DQTRNSGcyTkdnMk5IWXRNalJJTVRJNGVpSWdabWxzYkQwaUl6QTJNVEpqWkNJdlBqeHdZWFJvSUdROUlrMDVOaUF4TURSY01USTRJREV3TkNBeE1qZ2dNVEk0ZGkweU5GZ3hNREIyTWpSSU9UWjZJaUJtYVd4c1BTSWpNRFl4TW1Oa0lpOCtQSEJoZEdnZ1pEMGlUVFF3SURFd05HTXlOQ0F3SURBZ01qUWdNakFnTWpRZ01qUWdNQ0F5TkMweU1DMHlOQ0l5SURBdE1qUXRNalFnTUMweU5DMHlOQzB5TkhZeU5HZ3lOSFl5TkdneU5IWXlOR2d5TkhZdE1qUklOREI2SWlCbWFXeHNQU0lqTURZeE1tTmtJaTgrUEhCaGRHZ2daRDBpVFRFd05DQXhORFJvTVRnMGRqRXdOQzB4TURSSVRUazJJREV3TkdneE9EUjJNVEEwY3kwNE9DSXZQanh3WVhSb0lHUTlJazAxTmlBeE5EUm9NVGcwZGpFd05DMHhNRFJJVFRRNElERTBOR2d4T0RSMk1UQTBjeTA0T0NJdlBqd3ZjM1puUGc9PSIsCiAgICAgICJzaXplcyI6ICIxOTJ4MTkyIiwKICAgICAgInR5cGUiOiAiaW1hZ2Uvc3ZnK3htbCIKICAgIH0sCiAgICB7CiAgICAgICJzcmMiOiAiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0kxTVRJaUlHaGxhV2RvZEQwaU5URXlJajQ4Y21WamRDQjNhV1IwYUQwaU5URXlJaUJvWldsbmFIUTlJalV4TWlJZ1ptbHNiRDBpSXpBMk1USmpaQ0l2UGp4d1lYUm9JR1E5SWswMk5DQXhNemhqTXpJZ01DQXdJRFl5SUROQ0lEWXlJRFl5SURBZ05qSXRNekl0TmpKSU5qUjZJaUJtYVd4c1BTSWpNRFl4TW1Oa0lpOCtQSEJoZEdnZ1pEMGlUVEUyTUNBeU1UWmpOalFnTUNBd0lERXlPQ0E1TmlBeE1qZ2dNVEk0SURBZ01USTRMVGsySURFeU9FZ3hOakIzTWpSb05qUjJNalJJTVRZd2VpSWdabWxzYkQwaUl6QTJNVEJ6TXlJdlBqeHdZWFJvSUdROUlrMHhOalFnTWpRd1l6WTBJREFnTUNBeE1qZ2dPVFlnTVRJNElERXlPQ0F3SURFME5DMDVOaUF4TkRRdE1UUTBJREFnTVRRMElEazJMVEUwTkhNNE1DMDJOQ0F4TkRRdE1UUTBJREFnTVRRMElEazJJREUwTkNBeE5EUjJNamhqTUNBMk5DQTJOQ0F3SURFeU9DMDVOaUF4TWpndE1USTRJREFnTWpZMElEWTBJREFnTVRJNElEazJJREV5T0hZdE1qaDJMVEkwZWlJZ1ptbHNiRDBpSXpBMk1USmpaQ0l2UGp4d1lYUm9JR1E5SWswek1qQWdNalEyZFRBZ01UWXRNQ0F4TmlBeE5pQXdJREVnTUMweE5pQXhOaTB4TmxZeE5EaDJNamRvTkRoMk1qUjJNamRvTkRoV01UUTRlaUlnWm1sc2JEMGlJekEyTVRCek15SXZQanh3WVhSb0lHUTlJazB5TURBZ016TTFZVE1nTXlBd0lERWdNQ3czTGpjZ055NDNJU0ExY3kwMElERXdMamNnTUNBNExqRWdOQ0EzTGpjZ055NDNJREFnTVNBd0lEY3VOeUIzTGpjdE5DMDNMamN0Tnk0M0xUY3VOMEV6SURNZ01DQXhJREFnTWk0NExUZ3VOekkwSURFMklEQWdNQ0F5T0MweE5pQXlPQzB5T0NBd0lERXdMamN0T1M0MElEYzNPUzQySURjM09TNDJJREE0TGpFdE5DQTNMamN0Tnk0M0lEVXRNVGN1TXlBeE1pNHpJQzB6TUM0ekxUSXlMalFnTXk0MExUVXVOU0F4TXk0ekxURTNMak1nTVRjdU15MHlOeTQ0SURFekxqTXRORGt1TmlBMUxqVXRNVE11TXlBeE55NHpMVEV6TGpNZ01UWXRNQ0F5T0NBeE5pQXlPQ0F4TmlBeE5pQXdJREUySURFMklEZ3VOU0F3SURFZ01TQXdJRGt1TXkweE5pQXhNeTB6Tnk0MElETTJJQzB6Tnk0MElETXpMamNnTlRrdU5DQXhNall1TXlBeE9EY3VNeUF5TXpVZ01USTJJRE0xSURVMElERXdNQ0ExTUNBeU56Y2dOak1nTWpjM0lEQWdNVFEzTFRZeklESXpOUzB4T0RjdU15QTVOaTQwTFRJek5pQTJNQzB5TlRNdU55QXpOaTB6Tnkwek5pMHpOeUEwTFRZMUxqY3RNVGd1TmlBeE15NDNMVEl6TGpndE1TNHhMVEV1TVNBd0xTODFMamN0TXpFNUxqY3ROalF0TkRFNUxqWXRNVEEyTGpnZ05TNDFMVGd1TnlBeE15MHhOeTR6SURFMkxqY3RNallnTXpRdU15MDVNQ0EzTmk0ekxURTFOeTR6SURFeE5TMHhPVGN1TmlBeE1UVXRNamszSURBdE55NDRMVFl6TGk0d0lEZ3VOVDB0TXpJZ01UWXRNell0TXpNdU5TMDJNQzB6TXkwM05TNDBMVEkwTGpRdE16Y3ROeTR5TFRRd0xqUXRNVGd1TXkweU9TNDJMVEkzTGprdE9TNDFJREl1TnkwM0xqY2dOeTQxTFRVZ01URXROaTQySURFeUxqY3RNVEFnTkNBd0lESWdNQ0F4TGpjZzR0TXk0MElESTJMamN0TmpBZ016TXVOUzAzTlM0MElESTBMalF0TXpjZ055MDBNQzQwSURFNExqTXRNamt1TmlBeU55NDVMVGt1TlNBeU55NDVJREFnTmpNdU1DQTRMalVJREFnTVNBd0lEa3VNeUF4TmlBeE15QXpOeTQwSURNeklEZzJMamN0TWk0M0lEazJJREFnT1M0MUxUY3VOZE15TGpZdE9DNDRJRGd0TVRRdU1pQTBMakl0TkNBMExqSWdOQ0F3SURZdU15QXlMak1nTVRVdU5TQTRMalFnTVRZdU55QTJMamt5ZWlJdlBqd3ZjM1puUGc9PSIsCiAgICAgICJzaXplcyI6ICI1MTJ4NTEyIiwKICAgICAgInR5cGUiOiAiaW1hZ2Uvc3ZnK3htbCIsCiAgICAgICJwdXJwb3NlIjogImFueSBtYXNrYWJsZSIKICAgIH0KICBdCn0=">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;400;500;600;700&family=Orbitron:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-primary: #0a0e1a;
            --bg-secondary: #111827;
            --bg-card: #1a2030;
            --bg-card-hover: #212938;
            --accent-primary: #00d9ff;
            --accent-secondary: #0ea5e9;
            --accent-tertiary: #8b5cf6;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --border: #1e293b;
            --glow: rgba(0, 217, 255, 0.3);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Rajdhani', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        #root {
            min-height: 100vh;
            background: 
                radial-gradient(circle at 20% 50%, rgba(0, 217, 255, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(139, 92, 246, 0.03) 0%, transparent 50%),
                var(--bg-primary);
        }
        
        .app-header {
            position: sticky;
            top: 0;
            z-index: 100;
            background: rgba(10, 14, 26, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
        }
        
        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1.2rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .logo-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: 0 0 20px var(--glow);
        }
        
        .btn {
            padding: 0.7rem 1.5rem;
            border: none;
            border-radius: 12px;
            font-family: 'Rajdhani', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            position: relative;
            overflow: hidden;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            color: var(--bg-primary);
            box-shadow: 0 4px 20px rgba(0, 217, 255, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 30px rgba(0, 217, 255, 0.5);
        }
        
        .btn-secondary {
            background: var(--bg-card);
            color: var(--text-primary);
            border: 1px solid var(--border);
        }
        
        .btn-secondary:hover {
            background: var(--bg-card-hover);
            border-color: var(--accent-primary);
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem 1.5rem;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }
        
        .stat-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 1.5rem;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
        }
        
        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 30px rgba(0, 217, 255, 0.15);
            border-color: var(--accent-primary);
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.5rem;
        }
        
        .stat-value {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--accent-primary);
            line-height: 1;
        }
        
        .console-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 1.5rem;
        }
        
        .console-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .console-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, transparent, rgba(0, 217, 255, 0.05));
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .console-card:hover {
            transform: translateY(-4px);
            border-color: var(--accent-primary);
            box-shadow: 0 10px 40px rgba(0, 217, 255, 0.2);
        }
        
        .console-card:hover::after {
            opacity: 1;
        }
        
        .console-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
        }
        
        .console-brand {
            font-family: 'Orbitron', sans-serif;
            font-size: 0.85rem;
            font-weight: 600;
            padding: 0.4rem 0.8rem;
            border-radius: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .brand-ps5 { background: linear-gradient(135deg, #0070cc, #003d82); }
        .brand-ps4 { background: linear-gradient(135deg, #003d82, #001f47); }
        .brand-xbox { background: linear-gradient(135deg, #107c10, #064e06); }
        .brand-switch { background: linear-gradient(135deg, #e60012, #8b0008); }
        
        .console-model {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            position: relative;
            z-index: 1;
        }
        
        .console-info {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin: 1rem 0;
            position: relative;
            z-index: 1;
        }
        
        .info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
        }
        
        .info-label {
            color: var(--text-secondary);
        }
        
        .info-value {
            color: var(--text-primary);
            font-weight: 500;
        }
        
        .warranty-status {
            padding: 0.4rem 0.8rem;
            border-radius: 8px;
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .warranty-active {
            background: rgba(16, 185, 129, 0.15);
            color: var(--success);
            border: 1px solid var(--success);
        }
        
        .warranty-expiring {
            background: rgba(245, 158, 11, 0.15);
            color: var(--warning);
            border: 1px solid var(--warning);
        }
        
        .warranty-expired {
            background: rgba(239, 68, 68, 0.15);
            color: var(--danger);
            border: 1px solid var(--danger);
        }
        
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 1rem;
            opacity: 0;
            animation: fadeIn 0.3s ease forwards;
        }
        
        @keyframes fadeIn {
            to { opacity: 1; }
        }
        
        .modal-content {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 20px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            transform: translateY(20px);
            animation: slideUp 0.3s ease forwards;
        }
        
        @keyframes slideUp {
            to { transform: translateY(0); }
        }
        
        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            background: var(--bg-secondary);
            z-index: 10;
        }
        
        .modal-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .close-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            line-height: 1;
            transition: color 0.3s ease;
        }
        
        .close-btn:hover {
            color: var(--text-primary);
        }
        
        .modal-body {
            padding: 1.5rem;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 0.5px;
        }
        
        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            padding: 0.9rem;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            color: var(--text-primary);
            font-family: 'Rajdhani', sans-serif;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 3px rgba(0, 217, 255, 0.1);
        }
        
        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        .tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 2rem;
            border-bottom: 2px solid var(--border);
            overflow-x: auto;
        }
        
        .tab {
            padding: 0.8rem 1.5rem;
            background: none;
            border: none;
            color: var(--text-secondary);
            font-family: 'Rajdhani', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            white-space: nowrap;
        }
        
        .tab.active {
            color: var(--accent-primary);
            border-bottom-color: var(--accent-primary);
        }
        
        .tab:hover {
            color: var(--text-primary);
        }
        
        .repair-item {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.2rem;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }
        
        .repair-item:hover {
            border-color: var(--accent-primary);
            transform: translateX(4px);
        }
        
        .repair-date {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
        }
        
        .repair-type {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--accent-primary);
        }
        
        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
        }
        
        .video-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .video-card:hover {
            transform: translateY(-4px);
            border-color: var(--accent-primary);
            box-shadow: 0 8px 30px rgba(0, 217, 255, 0.2);
        }
        
        .video-thumbnail {
            position: relative;
            padding-top: 56.25%;
            background: var(--bg-primary);
            overflow: hidden;
        }
        
        .video-thumbnail iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        .video-info {
            padding: 1rem;
        }
        
        .video-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }
        
        .video-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            color: var(--text-secondary);
        }
        
        .empty-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            opacity: 0.3;
        }
        
        .empty-text {
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
        }
        
        .fab {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            border: none;
            color: var(--bg-primary);
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 8px 30px rgba(0, 217, 255, 0.4);
            transition: all 0.3s ease;
            z-index: 999;
        }
        
        .fab:hover {
            transform: scale(1.1) rotate(90deg);
            box-shadow: 0 12px 40px rgba(0, 217, 255, 0.6);
        }
        
        @media (max-width: 768px) {
            .logo {
                font-size: 1.2rem;
            }
            
            .stat-value {
                font-size: 2rem;
            }
            
            .console-grid {
                grid-template-columns: 1fr;
            }
            
            .modal-content {
                margin: 1rem;
            }
        }
        
        .qr-section {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 2rem;
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .qr-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--accent-primary);
        }
        
        .qr-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
        }
        
        .qr-code-wrapper {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 8px 30px rgba(0, 217, 255, 0.2);
        }
        
        #qrcode {
            display: inline-block;
        }
        
        #qrcode canvas {
            border-radius: 8px;
        }
        
        .qr-instructions {
            color: var(--text-secondary);
            font-size: 0.95rem;
            max-width: 400px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        .qr-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .install-prompt {
            position: fixed;
            bottom: 1rem;
            left: 1rem;
            right: 1rem;
            max-width: 400px;
            margin: 0 auto;
            background: var(--bg-card);
            border: 1px solid var(--accent-primary);
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: 0 10px 40px rgba(0, 217, 255, 0.3);
            z-index: 1001;
            animation: slideUpBounce 0.5s ease;
        }
        
        @keyframes slideUpBounce {
            0% { transform: translateY(100px); opacity: 0; }
            60% { transform: translateY(-10px); }
            100% { transform: translateY(0); opacity: 1; }
        }
        
        .install-prompt-content {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .install-prompt-title {
            font-family: 'Orbitron', sans-serif;
            font-weight: 600;
            color: var(--accent-primary);
        }
        
        .install-prompt-actions {
            display: flex;
            gap: 0.5rem;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    
    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // ModÃ¨les de consoles disponibles
        const CONSOLE_MODELS = {
            ps5: [
                'PS5 Standard 825Go',
                'PS5 Digital 825Go',
                'PS5 Slim Standard 1To',
                'PS5 Slim Digital 1To',
                'PS5 Pro Standard 1To',
                'PS5 Pro Digital 1To',
                'Manette PS5 DualSense',
                'Manette PS5 DualSense Edge'
            ],
            ps4: [
                'PS4 500Go',
                'PS4 1To',
                'PS4 Slim 500Go',
                'PS4 Slim 1To',
                'PS4 Pro 1To',
                'PS4 Pro 2To',
                'Manette PS4 DualShock'
            ],
            xbox: [
                'XBOX SÃ©ries S',
                'XBOX SÃ©ries X',
                'XBOX ONE 500 Go',
                'XBOX ONE 1 To',
                'XBOX ONE SLIM 500 Go',
                'XBOX ONE SLIM 1 To',
                'XBOX ONE S 2 To',
                'XBOX ONE X',
                'XBOX 360 FAT',
                'Xbox 360 Slim',
                'Xbox 360 E',
                'Manette Xbox One',
                'Manette Xbox SÃ©ries',
                'Manette Ã‰lite 1',
                'Manette Ã‰lite 2'
            ],
            switch: [
                'Switch',
                'Switch Lite',
                'Switch OLED',
                'Switch 2',
                'Joycon',
                'Pro Controller Switch'
            ]
        };
        
        // Tutoriels vidÃ©o par modÃ¨le
        const VIDEO_TUTORIALS = {
            'PS5 Standard 825Go': [
                { id: 'qJTd8AzBRy8', title: 'Comment nettoyer votre PS5', description: 'Guide complet de nettoyage' },
                { id: 'CaAY-jAjm0w', title: 'RÃ©soudre les problÃ¨mes de surchauffe', description: 'Solutions aux problÃ¨mes de tempÃ©rature' },
                { id: 'RXMIT0PaRLo', title: 'Changement du SSD interne', description: 'Installation d\'un SSD M.2' }
            ],
            'PS5 Digital 825Go': [
                { id: 'qJTd8AzBRy8', title: 'Comment nettoyer votre PS5 Digital', description: 'Guide complet de nettoyage' },
                { id: 'CaAY-jAjm0w', title: 'RÃ©soudre les problÃ¨mes de surchauffe', description: 'Solutions aux problÃ¨mes de tempÃ©rature' }
            ],
            'PS5 Slim Standard 1To': [
                { id: 'qJTd8AzBRy8', title: 'Nettoyage PS5 Slim', description: 'Entretien de votre console' },
                { id: 'RXMIT0PaRLo', title: 'Upgrade SSD PS5 Slim', description: 'Installation stockage supplÃ©mentaire' }
            ],
            'PS5 Slim Digital 1To': [
                { id: 'qJTd8AzBRy8', title: 'Nettoyage PS5 Slim Digital', description: 'Guide d\'entretien' }
            ],
            'PS4 500Go': [
                { id: 'GeeINh2v1cw', title: 'Nettoyage PS4', description: 'Comment dÃ©monter et nettoyer' },
                { id: 'jwqFhKYKvFg', title: 'Changement disque dur PS4', description: 'Upgrade de stockage' }
            ],
            'PS4 1To': [
                { id: 'GeeINh2v1cw', title: 'Nettoyage PS4', description: 'Comment dÃ©monter et nettoyer' },
                { id: 'jwqFhKYKvFg', title: 'Changement disque dur PS4', description: 'Upgrade de stockage' }
            ],
            'PS4 Slim 500Go': [
                { id: 'GeeINh2v1cw', title: 'Nettoyage PS4 Slim', description: 'Entretien de la console' },
                { id: 'jwqFhKYKvFg', title: 'Upgrade disque dur PS4 Slim', description: 'Augmentation stockage' }
            ],
            'PS4 Slim 1To': [
                { id: 'GeeINh2v1cw', title: 'Nettoyage PS4 Slim', description: 'Entretien de la console' }
            ],
            'PS4 Pro 1To': [
                { id: 'GeeINh2v1cw', title: 'Nettoyage PS4 Pro', description: 'Guide complet' },
                { id: 'jwqFhKYKvFg', title: 'Upgrade HDD PS4 Pro', description: 'Remplacement disque dur' }
            ],
            'PS4 Pro 2To': [
                { id: 'GeeINh2v1cw', title: 'Nettoyage PS4 Pro', description: 'Guide complet' }
            ],
            'XBOX SÃ©ries X': [
                { id: 'kpZJJc0LIBc', title: 'Nettoyage Xbox Series X', description: 'Entretien de votre console' },
                { id: 'EEOXe5LKuDw', title: 'ProblÃ¨mes courants Xbox', description: 'DÃ©pannage et solutions' }
            ],
            'XBOX SÃ©ries S': [
                { id: 'kpZJJc0LIBc', title: 'Nettoyage Xbox Series S', description: 'Guide d\'entretien' }
            ],
            'Switch': [
                { id: 'cNPlCq-SVX8', title: 'Changement Ã©cran Switch', description: 'Remplacement de l\'Ã©cran' },
                { id: 'ApjROKK_JJg', title: 'Nettoyage Nintendo Switch', description: 'Entretien complet' }
            ],
            'Switch OLED': [
                { id: 'ApjROKK_JJg', title: 'Nettoyage Switch OLED', description: 'Guide d\'entretien' }
            ],
            'Switch Lite': [
                { id: 'ApjROKK_JJg', title: 'Nettoyage Switch Lite', description: 'Entretien de la console portable' }
            ]
        };
        
        function App() {
            const [consoles, setConsoles] = useState([]);
            const [showModal, setShowModal] = useState(false);
            const [currentView, setCurrentView] = useState('list');
            const [selectedConsole, setSelectedConsole] = useState(null);
            const [editingConsole, setEditingConsole] = useState(null);
            const [activeTab, setActiveTab] = useState('info');
            const [showInstallPrompt, setShowInstallPrompt] = useState(false);
            const [deferredPrompt, setDeferredPrompt] = useState(null);
            const [publicViewData, setPublicViewData] = useState(null);
            const [isScanning, setIsScanning] = useState(false);
            
            // Formulaire
            const [formData, setFormData] = useState({
                brand: 'ps5',
                model: '',
                serialNumber: '',
                purchaseDate: '',
                warrantyManufacturer: 12,
                warrantyLegal: 24,
                hasExtendedWarranty: false,
                extendedWarrantyMonths: 0,
                repairs: []
            });
            
            // Garanties par marque (en mois)
            const WARRANTY_BY_BRAND = {
                ps5: { manufacturer: 12, legal: 24 },
                ps4: { manufacturer: 12, legal: 24 },
                xbox: { manufacturer: 12, legal: 24 },
                switch: { manufacturer: 12, legal: 24 }
            };
            
            // Charger les donnÃ©es depuis localStorage
            useEffect(() => {
                const stored = localStorage.getItem('consoleTracker');
                if (stored) {
                    setConsoles(JSON.parse(stored));
                }
                
                // VÃ©rifier si on arrive via QR code (vue publique)
                const urlParams = new URLSearchParams(window.location.search);
                const consoleData = urlParams.get('data');
                
                if (consoleData) {
                    try {
                        const decoded = JSON.parse(atob(consoleData));
                        // Support ancien et nouveau format
                        const normalized = {
                            brand: decoded.b || decoded.brand,
                            model: decoded.m || decoded.model,
                            serialNumber: decoded.s || decoded.serialNumber,
                            purchaseDate: decoded.p || decoded.purchaseDate,
                            warrantyManufacturer: decoded.wm || decoded.warrantyManufacturer,
                            warrantyLegal: decoded.wl || decoded.warrantyLegal,
                            hasExtendedWarranty: decoded.he || decoded.hasExtendedWarranty || false,
                            extendedWarrantyMonths: decoded.em || decoded.extendedWarrantyMonths || 0,
                            repairs: decoded.r || decoded.repairs || []
                        };
                        setPublicViewData(normalized);
                        setCurrentView('public');
                    } catch (e) {
                        console.error('Erreur de dÃ©codage:', e);
                    }
                }
                
                // PWA Install prompt
                window.addEventListener('beforeinstallprompt', (e) => {
                    e.preventDefault();
                    setDeferredPrompt(e);
                    setShowInstallPrompt(true);
                });
            }, []);
            
            // Sauvegarder dans localStorage
            useEffect(() => {
                localStorage.setItem('consoleTracker', JSON.stringify(consoles));
            }, [consoles]);
            
            const handleInstallPWA = () => {
                if (deferredPrompt) {
                    deferredPrompt.prompt();
                    deferredPrompt.userChoice.then((choiceResult) => {
                        setDeferredPrompt(null);
                        setShowInstallPrompt(false);
                    });
                }
            };
            
            const getWarrantyStatus = (purchaseDate, warrantyMonths) => {
                const purchase = new Date(purchaseDate);
                const expiry = new Date(purchase);
                expiry.setMonth(expiry.getMonth() + warrantyMonths);
                const now = new Date();
                const daysLeft = Math.floor((expiry - now) / (1000 * 60 * 60 * 24));
                
                if (daysLeft < 0) return { status: 'expired', text: 'ExpirÃ©e', class: 'warranty-expired' };
                if (daysLeft < 30) return { status: 'expiring', text: `${daysLeft}j restants`, class: 'warranty-expiring' };
                return { status: 'active', text: 'Active', class: 'warranty-active' };
            };
            
            const getTotalWarrantyMonths = (console) => {
                // La garantie lÃ©gale (2 ans) est la base minimale
                let totalMonths = console.warrantyLegal;
                
                // Si extension de garantie, on ajoute
                if (console.hasExtendedWarranty && console.extendedWarrantyMonths) {
                    totalMonths += console.extendedWarrantyMonths;
                }
                
                return totalMonths;
            };
            
            const isUnderWarranty = (console) => {
                const totalMonths = getTotalWarrantyMonths(console);
                const status = getWarrantyStatus(console.purchaseDate, totalMonths);
                return status.status !== 'expired';
            };
            
            const handleSubmit = (e) => {
                e.preventDefault();
                
                if (editingConsole) {
                    setConsoles(consoles.map(c => c.id === editingConsole.id ? { ...formData, id: c.id } : c));
                } else {
                    setConsoles([...consoles, { ...formData, id: Date.now() }]);
                }
                
                resetForm();
            };
            
            const resetForm = () => {
                setFormData({
                    brand: 'ps5',
                    model: '',
                    serialNumber: '',
                    purchaseDate: '',
                    warrantyManufacturer: 12,
                    warrantyLegal: 24,
                    hasExtendedWarranty: false,
                    extendedWarrantyMonths: 0,
                    repairs: []
                });
                setEditingConsole(null);
                setShowModal(false);
            };
            
            const openAddModal = () => {
                resetForm();
                setShowModal(true);
            };
            
            const openEditModal = (console) => {
                setFormData(console);
                setEditingConsole(console);
                setShowModal(true);
            };
            
            const deleteConsole = (id) => {
                if (confirm('ÃŠtes-vous sÃ»r de vouloir supprimer cette console ?')) {
                    setConsoles(consoles.filter(c => c.id !== id));
                    if (selectedConsole?.id === id) {
                        setSelectedConsole(null);
                        setCurrentView('list');
                    }
                }
            };
            
            const addRepair = () => {
                const date = prompt('Date de la rÃ©paration (JJ/MM/AAAA):');
                const location = prompt('Lieu de la rÃ©paration:');
                const issue = prompt('Type de panne:');
                const cost = prompt('CoÃ»t (â‚¬):');
                
                if (date && location && issue) {
                    const newRepair = {
                        id: Date.now(),
                        date,
                        location,
                        issue,
                        cost: cost || 'N/A'
                    };
                    
                    if (currentView === 'detail' && selectedConsole) {
                        const updated = {
                            ...selectedConsole,
                            repairs: [...(selectedConsole.repairs || []), newRepair]
                        };
                        setConsoles(consoles.map(c => c.id === selectedConsole.id ? updated : c));
                        setSelectedConsole(updated);
                    }
                }
            };
            
            const scanInvoice = async (imageFile) => {
                setIsScanning(true);
                try {
                    // Convertir l'image en base64
                    const base64Image = await new Promise((resolve, reject) => {
                        const reader = new FileReader();
                        reader.onload = () => resolve(reader.result.split(',')[1]);
                        reader.onerror = reject;
                        reader.readAsDataURL(imageFile);
                    });
                    
                    // Appeler l'API Claude pour l'OCR
                    const response = await fetch('https://api.anthropic.com/v1/messages', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'anthropic-version': '2023-06-01'
                        },
                        body: JSON.stringify({
                            model: 'claude-sonnet-4-20250514',
                            max_tokens: 1000,
                            messages: [{
                                role: 'user',
                                content: [
                                    {
                                        type: 'image',
                                        source: {
                                            type: 'base64',
                                            media_type: imageFile.type,
                                            data: base64Image
                                        }
                                    },
                                    {
                                        type: 'text',
                                        text: `Analyse cette facture d'achat de console de jeux et extrait UNIQUEMENT les informations suivantes au format JSON strict (sans commentaire, sans texte supplÃ©mentaire, juste le JSON) :

{
  "brand": "ps5 ou ps4 ou xbox ou switch",
  "model": "modÃ¨le exact de la console",
  "serialNumber": "numÃ©ro de sÃ©rie si prÃ©sent, sinon null",
  "purchaseDate": "date au format YYYY-MM-DD",
  "hasExtendedWarranty": true ou false (true si extension de garantie mentionnÃ©e),
  "extendedWarrantyMonths": nombre de mois d'extension (0, 12, 24, 36, etc.)
}

Indices pour dÃ©tecter l'extension de garantie :
- Mots-clÃ©s : "extension de garantie", "garantie Ã©tendue", "garantie supplÃ©mentaire", "assurance", "+1 an", "+2 ans", "+3 ans"
- Si tu vois ces mots, mets hasExtendedWarranty Ã  true
- Essaie de dÃ©terminer la durÃ©e en mois (12, 24, 36)

Si une information n'est pas trouvÃ©e, mets null ou 0. RÃ©ponds UNIQUEMENT avec le JSON, rien d'autre.`
                                    }
                                ]
                            }]
                        })
                    });
                    
                    const data = await response.json();
                    const content = data.content[0].text;
                    
                    // Extraire le JSON de la rÃ©ponse
                    const jsonMatch = content.match(/\{[\s\S]*\}/);
                    if (jsonMatch) {
                        const extractedData = JSON.parse(jsonMatch[0]);
                        
                        // Mettre Ã  jour le formulaire avec les donnÃ©es extraites
                        if (extractedData.brand) {
                            const warranties = WARRANTY_BY_BRAND[extractedData.brand];
                            setFormData(prev => ({
                                ...prev,
                                brand: extractedData.brand,
                                model: extractedData.model || prev.model,
                                serialNumber: extractedData.serialNumber || prev.serialNumber,
                                purchaseDate: extractedData.purchaseDate || prev.purchaseDate,
                                warrantyManufacturer: warranties?.manufacturer || 12,
                                warrantyLegal: warranties?.legal || 24,
                                hasExtendedWarranty: extractedData.hasExtendedWarranty || false,
                                extendedWarrantyMonths: extractedData.extendedWarrantyMonths || 0
                            }));
                            
                            alert('âœ… Facture scannÃ©e avec succÃ¨s ! VÃ©rifiez les informations extraites.');
                        } else {
                            alert('âš ï¸ Impossible d\'extraire les informations. Veuillez les saisir manuellement.');
                        }
                    } else {
                        alert('âš ï¸ Impossible de lire la facture. Veuillez rÃ©essayer avec une meilleure qualitÃ© d\'image.');
                    }
                    
                } catch (error) {
                    console.error('Erreur scan:', error);
                    alert('âŒ Erreur lors du scan de la facture. Veuillez rÃ©essayer.');
                } finally {
                    setIsScanning(false);
                }
            };
            
            const stats = {
                total: consoles.length,
                underWarranty: consoles.filter(c => isUnderWarranty(c)).length,
                repaired: consoles.filter(c => c.repairs && c.repairs.length > 0).length
            };
            
            // Vue publique accessible via QR code
            if (currentView === 'public' && publicViewData) {
                return (
                    <PublicView
                        data={publicViewData}
                        getWarrantyStatus={getWarrantyStatus}
                    />
                );
            }
            
            if (currentView === 'detail' && selectedConsole) {
                return (
                    <DetailView
                        console={selectedConsole}
                        onBack={() => {
                            setCurrentView('list');
                            setSelectedConsole(null);
                        }}
                        onEdit={openEditModal}
                        onDelete={deleteConsole}
                        getWarrantyStatus={getWarrantyStatus}
                        getTotalWarrantyMonths={getTotalWarrantyMonths}
                        isUnderWarranty={isUnderWarranty}
                        activeTab={activeTab}
                        setActiveTab={setActiveTab}
                        addRepair={addRepair}
                    />
                );
            }
            
            return (
                <>
                    <div className="app-header">
                        <div className="header-content">
                            <div className="logo">
                                <div className="logo-icon">ðŸŽ®</div>
                                ConsoleTracker
                            </div>
                            {consoles.length > 0 && (
                                <button className="btn btn-primary" onClick={openAddModal}>
                                    + Ajouter
                                </button>
                            )}
                        </div>
                    </div>
                    
                    <div className="container">
                        {consoles.length > 0 && (
                            <div className="dashboard">
                                <div className="stat-card">
                                    <div className="stat-label">Total Consoles</div>
                                    <div className="stat-value">{stats.total}</div>
                                </div>
                                <div className="stat-card">
                                    <div className="stat-label">Sous Garantie</div>
                                    <div className="stat-value">{stats.underWarranty}</div>
                                </div>
                                <div className="stat-card">
                                    <div className="stat-label">RÃ©parÃ©es</div>
                                    <div className="stat-value">{stats.repaired}</div>
                                </div>
                            </div>
                        )}
                        
                        {consoles.length === 0 ? (
                            <div className="empty-state">
                                <div className="empty-icon">ðŸŽ®</div>
                                <div className="empty-text">Aucune console enregistrÃ©e</div>
                                <button className="btn btn-primary" onClick={openAddModal}>
                                    Ajouter votre premiÃ¨re console
                                </button>
                            </div>
                        ) : (
                            <div className="console-grid">
                                {consoles.map(console => {
                                    const totalMonths = getTotalWarrantyMonths(console);
                                    const warrantyStatus = getWarrantyStatus(console.purchaseDate, totalMonths);
                                    return (
                                        <div
                                            key={console.id}
                                            className="console-card"
                                            onClick={() => {
                                                setSelectedConsole(console);
                                                setCurrentView('detail');
                                            }}
                                        >
                                            <div className="console-header">
                                                <span className={`console-brand brand-${console.brand}`}>
                                                    {console.brand.toUpperCase()}
                                                </span>
                                                <span className={`warranty-status ${warrantyStatus.class}`}>
                                                    {warrantyStatus.text}
                                                </span>
                                            </div>
                                            <div className="console-model">{console.model}</div>
                                            {console.hasExtendedWarranty && (
                                                <div style={{ 
                                                    fontSize: '0.85rem', 
                                                    color: 'var(--accent-primary)',
                                                    fontWeight: 600,
                                                    marginBottom: '0.5rem'
                                                }}>
                                                    âœ¨ Extension +{console.extendedWarrantyMonths} mois
                                                </div>
                                            )}
                                            <div className="console-info">
                                                <div className="info-row">
                                                    <span className="info-label">NumÃ©ro de sÃ©rie</span>
                                                    <span className="info-value">{console.serialNumber}</span>
                                                </div>
                                                <div className="info-row">
                                                    <span className="info-label">Date d'achat</span>
                                                    <span className="info-value">
                                                        {new Date(console.purchaseDate).toLocaleDateString('fr-FR')}
                                                    </span>
                                                </div>
                                                {console.repairs && console.repairs.length > 0 && (
                                                    <div className="info-row">
                                                        <span className="info-label">RÃ©parations</span>
                                                        <span className="info-value">{console.repairs.length}</span>
                                                    </div>
                                                )}
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                        )}
                    </div>
                    
                    {consoles.length > 0 && (
                        <button className="fab" onClick={openAddModal}>
                            +
                        </button>
                    )}
                    
                    {showModal && (
                        <FormModal
                            formData={formData}
                            setFormData={setFormData}
                            onSubmit={handleSubmit}
                            onClose={resetForm}
                            isEditing={!!editingConsole}
                            scanInvoice={scanInvoice}
                            isScanning={isScanning}
                        />
                    )}
                    
                    {showInstallPrompt && (
                        <div className="install-prompt">
                            <div className="install-prompt-content">
                                <div className="install-prompt-title">
                                    ðŸ“± Installer ConsoleTracker
                                </div>
                                <div style={{ fontSize: '0.9rem', color: 'var(--text-secondary)' }}>
                                    Installez l'application pour y accÃ©der facilement depuis votre Ã©cran d'accueil
                                </div>
                                <div className="install-prompt-actions">
                                    <button className="btn btn-primary" onClick={handleInstallPWA}>
                                        Installer
                                    </button>
                                    <button className="btn btn-secondary" onClick={() => setShowInstallPrompt(false)}>
                                        Plus tard
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}
                </>
            );
        }
        
        function PublicView({ data, getWarrantyStatus }) {
            const warrantyManufacturer = getWarrantyStatus(data.purchaseDate, data.warrantyManufacturer);
            const warrantyLegal = getWarrantyStatus(data.purchaseDate, data.warrantyLegal);
            
            // Calculer garantie totale avec extension
            const hasExtended = data.hasExtendedWarranty || false;
            const extendedMonths = data.extendedWarrantyMonths || 0;
            const totalMonths = data.warrantyLegal + extendedMonths;
            const totalWarrantyStatus = hasExtended ? getWarrantyStatus(data.purchaseDate, totalMonths) : warrantyLegal;
            
            return (
                <>
                    <div className="app-header">
                        <div className="header-content">
                            <div className="logo">
                                <div className="logo-icon">ðŸŽ®</div>
                                ConsoleTracker
                            </div>
                            <div style={{ fontSize: '0.9rem', color: 'var(--text-secondary)' }}>
                                Fiche Technique Publique
                            </div>
                        </div>
                    </div>
                    
                    <div className="container">
                        <div className="console-card" style={{ marginBottom: '2rem', background: 'linear-gradient(135deg, var(--bg-card) 0%, var(--bg-secondary) 100%)' }}>
                            <div className="console-header">
                                <span className={`console-brand brand-${data.brand}`}>
                                    {data.brand.toUpperCase()}
                                </span>
                            </div>
                            <div className="console-model" style={{ fontSize: '2rem', marginBottom: '1.5rem' }}>
                                {data.model}
                            </div>
                            <div className="console-info">
                                <div className="info-row">
                                    <span className="info-label">NumÃ©ro de sÃ©rie</span>
                                    <span className="info-value">{data.serialNumber}</span>
                                </div>
                                <div className="info-row">
                                    <span className="info-label">Date d'achat</span>
                                    <span className="info-value">
                                        {new Date(data.purchaseDate).toLocaleDateString('fr-FR')}
                                    </span>
                                </div>
                            </div>
                        </div>
                        
                        <div style={{ marginBottom: '1.5rem' }}>
                            <h3 style={{ 
                                fontFamily: 'Orbitron, sans-serif', 
                                fontSize: '1.3rem', 
                                marginBottom: '1rem',
                                color: 'var(--accent-primary)'
                            }}>
                                ðŸ“‹ Ã‰tat des Garanties
                            </h3>
                            
                            <div className="stat-card" style={{ marginBottom: '1rem' }}>
                                <div className="stat-label">Garantie Constructeur</div>
                                <div style={{ marginTop: '1rem' }}>
                                    <span className={`warranty-status ${warrantyManufacturer.class}`}>
                                        {warrantyManufacturer.text}
                                    </span>
                                </div>
                                <div style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: 'var(--text-secondary)' }}>
                                    DurÃ©e: {data.warrantyManufacturer} mois
                                    <br />
                                    Date de fin: {new Date(new Date(data.purchaseDate).setMonth(new Date(data.purchaseDate).getMonth() + data.warrantyManufacturer)).toLocaleDateString('fr-FR')}
                                </div>
                            </div>
                            
                            <div className="stat-card" style={{ marginBottom: hasExtended ? '1rem' : 0 }}>
                                <div className="stat-label">Garantie LÃ©gale (2 ans)</div>
                                <div style={{ marginTop: '1rem' }}>
                                    <span className={`warranty-status ${warrantyLegal.class}`}>
                                        {warrantyLegal.text}
                                    </span>
                                </div>
                                <div style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: 'var(--text-secondary)' }}>
                                    DurÃ©e: {data.warrantyLegal} mois
                                    <br />
                                    Date de fin: {new Date(new Date(data.purchaseDate).setMonth(new Date(data.purchaseDate).getMonth() + data.warrantyLegal)).toLocaleDateString('fr-FR')}
                                </div>
                            </div>
                            
                            {hasExtended && (
                                <div className="stat-card" style={{ 
                                    border: '2px solid var(--accent-primary)',
                                    background: 'linear-gradient(135deg, var(--bg-card) 0%, rgba(0, 217, 255, 0.05) 100%)'
                                }}>
                                    <div className="stat-label" style={{ color: 'var(--accent-primary)' }}>
                                        âœ¨ Extension de Garantie
                                    </div>
                                    <div style={{ marginTop: '1rem' }}>
                                        <span className="warranty-status warranty-active">
                                            +{extendedMonths} mois
                                        </span>
                                    </div>
                                    <div style={{ marginTop: '1rem', padding: '1rem', background: 'var(--bg-secondary)', borderRadius: '8px' }}>
                                        <div style={{ fontWeight: 600, marginBottom: '0.5rem', color: 'var(--accent-primary)' }}>
                                            Garantie Totale
                                        </div>
                                        <div style={{ fontSize: '1.5rem', fontWeight: 700 }}>
                                            {totalMonths} mois
                                        </div>
                                        <div style={{ marginTop: '0.5rem' }}>
                                            <span className={`warranty-status ${totalWarrantyStatus.class}`}>
                                                {totalWarrantyStatus.text}
                                            </span>
                                        </div>
                                        <div style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: 'var(--text-secondary)' }}>
                                            Date de fin: {new Date(new Date(data.purchaseDate).setMonth(new Date(data.purchaseDate).getMonth() + totalMonths)).toLocaleDateString('fr-FR')}
                                        </div>
                                    </div>
                                </div>
                            )}
                        </div>
                        
                        <div>
                            <h3 style={{ 
                                fontFamily: 'Orbitron, sans-serif', 
                                fontSize: '1.3rem', 
                                marginBottom: '1rem',
                                color: 'var(--accent-primary)',
                                display: 'flex',
                                alignItems: 'center',
                                gap: '0.5rem'
                            }}>
                                ðŸ”§ Historique des RÃ©parations
                                <span style={{ 
                                    fontSize: '0.9rem', 
                                    background: 'var(--bg-card)',
                                    padding: '0.3rem 0.8rem',
                                    borderRadius: '8px',
                                    color: 'var(--text-secondary)'
                                }}>
                                    {data.repairs.length}
                                </span>
                            </h3>
                            
                            {data.repairs && data.repairs.length > 0 ? (
                                data.repairs.map((repair, index) => (
                                    <div key={index} className="repair-item">
                                        <div className="repair-date">ðŸ“… {repair.date}</div>
                                        <div className="repair-type">{repair.issue}</div>
                                        <div className="info-row">
                                            <span className="info-label">Lieu</span>
                                            <span className="info-value">{repair.location}</span>
                                        </div>
                                        <div className="info-row">
                                            <span className="info-label">CoÃ»t</span>
                                            <span className="info-value">{repair.cost}</span>
                                        </div>
                                    </div>
                                ))
                            ) : (
                                <div className="empty-state" style={{ padding: '2rem' }}>
                                    <div className="empty-icon" style={{ fontSize: '3rem' }}>âœ…</div>
                                    <div className="empty-text">Aucune rÃ©paration enregistrÃ©e</div>
                                    <div style={{ fontSize: '0.9rem', color: 'var(--text-muted)', marginTop: '0.5rem' }}>
                                        Cette console n'a jamais Ã©tÃ© rÃ©parÃ©e
                                    </div>
                                </div>
                            )}
                        </div>
                        
                        <div style={{ 
                            marginTop: '3rem', 
                            padding: '1.5rem', 
                            background: 'var(--bg-card)',
                            border: '1px solid var(--border)',
                            borderRadius: '12px',
                            textAlign: 'center'
                        }}>
                            <div style={{ fontSize: '0.9rem', color: 'var(--text-secondary)', marginBottom: '1rem' }}>
                                ðŸ’¡ Cette fiche est gÃ©nÃ©rÃ©e automatiquement via ConsoleTracker
                            </div>
                            <a 
                                href={window.location.pathname}
                                className="btn btn-primary"
                                style={{ textDecoration: 'none', display: 'inline-block' }}
                            >
                                ðŸ“± TÃ©lÃ©charger l'application
                            </a>
                        </div>
                    </div>
                </>
            );
        }
        
        function FormModal({ formData, setFormData, onSubmit, onClose, isEditing, scanInvoice, isScanning }) {
            const handleImageUpload = (e) => {
                const file = e.target.files[0];
                if (file && file.type.startsWith('image/')) {
                    scanInvoice(file);
                }
            };
            
            const handleBrandChange = (brand) => {
                const warranties = WARRANTY_BY_BRAND[brand];
                setFormData({ 
                    ...formData, 
                    brand, 
                    model: '',
                    warrantyManufacturer: warranties.manufacturer,
                    warrantyLegal: warranties.legal
                });
            };
            
            return (
                <div className="modal" onClick={onClose}>
                    <div className="modal-content" onClick={e => e.stopPropagation()}>
                        <div className="modal-header">
                            <h2 className="modal-title">
                                {isEditing ? 'Modifier la console' : 'Nouvelle console'}
                            </h2>
                            <button className="close-btn" onClick={onClose}>Ã—</button>
                        </div>
                        <div className="modal-body">
                            {!isEditing && (
                                <div style={{ 
                                    marginBottom: '1.5rem', 
                                    padding: '1rem', 
                                    background: 'var(--bg-card)',
                                    border: '2px dashed var(--border)',
                                    borderRadius: '12px',
                                    textAlign: 'center'
                                }}>
                                    <div style={{ fontSize: '2rem', marginBottom: '0.5rem' }}>ðŸ“„</div>
                                    <div style={{ fontSize: '0.95rem', color: 'var(--text-secondary)', marginBottom: '1rem' }}>
                                        Gain de temps : scannez votre facture pour remplir automatiquement les champs
                                    </div>
                                    <label htmlFor="invoice-upload" style={{ cursor: 'pointer' }}>
                                        <div className="btn btn-secondary" style={{ 
                                            display: 'inline-block',
                                            pointerEvents: 'none'
                                        }}>
                                            {isScanning ? 'â³ Analyse en cours...' : 'ðŸ“¸ Scanner une facture'}
                                        </div>
                                        <input
                                            id="invoice-upload"
                                            type="file"
                                            accept="image/*"
                                            capture="environment"
                                            onChange={handleImageUpload}
                                            disabled={isScanning}
                                            style={{ display: 'none' }}
                                        />
                                    </label>
                                </div>
                            )}
                            
                            <form onSubmit={onSubmit}>
                                <div className="form-group">
                                    <label className="form-label">Marque</label>
                                    <select
                                        className="form-select"
                                        value={formData.brand}
                                        onChange={e => handleBrandChange(e.target.value)}
                                        required
                                        disabled={isScanning}
                                    >
                                        <option value="ps5">PlayStation 5</option>
                                        <option value="ps4">PlayStation 4</option>
                                        <option value="xbox">Xbox</option>
                                        <option value="switch">Nintendo Switch</option>
                                    </select>
                                </div>
                                
                                <div className="form-group">
                                    <label className="form-label">ModÃ¨le</label>
                                    <select
                                        className="form-select"
                                        value={formData.model}
                                        onChange={e => setFormData({ ...formData, model: e.target.value })}
                                        required
                                        disabled={isScanning}
                                    >
                                        <option value="">SÃ©lectionner un modÃ¨le</option>
                                        {CONSOLE_MODELS[formData.brand].map(model => (
                                            <option key={model} value={model}>{model}</option>
                                        ))}
                                    </select>
                                </div>
                                
                                <div className="form-group">
                                    <label className="form-label">NumÃ©ro de sÃ©rie</label>
                                    <input
                                        type="text"
                                        className="form-input"
                                        value={formData.serialNumber}
                                        onChange={e => setFormData({ ...formData, serialNumber: e.target.value })}
                                        required
                                        disabled={isScanning}
                                    />
                                </div>
                                
                                <div className="form-group">
                                    <label className="form-label">Date d'achat</label>
                                    <input
                                        type="date"
                                        className="form-input"
                                        value={formData.purchaseDate}
                                        onChange={e => setFormData({ ...formData, purchaseDate: e.target.value })}
                                        required
                                        disabled={isScanning}
                                    />
                                </div>
                                
                                <div style={{ 
                                    background: 'var(--bg-card)', 
                                    padding: '1rem', 
                                    borderRadius: '12px',
                                    marginBottom: '1.5rem'
                                }}>
                                    <div style={{ 
                                        fontSize: '0.9rem', 
                                        color: 'var(--accent-primary)',
                                        fontWeight: 600,
                                        marginBottom: '1rem',
                                        textTransform: 'uppercase',
                                        letterSpacing: '0.5px'
                                    }}>
                                        Garanties (automatiques)
                                    </div>
                                    
                                    <div className="form-group" style={{ marginBottom: '0.8rem' }}>
                                        <label className="form-label">Garantie constructeur</label>
                                        <input
                                            type="text"
                                            className="form-input"
                                            value={`${formData.warrantyManufacturer} mois`}
                                            disabled
                                            style={{ opacity: 0.7, cursor: 'not-allowed' }}
                                        />
                                    </div>
                                    
                                    <div className="form-group" style={{ marginBottom: 0 }}>
                                        <label className="form-label">Garantie lÃ©gale (France)</label>
                                        <input
                                            type="text"
                                            className="form-input"
                                            value={`${formData.warrantyLegal} mois (2 ans)`}
                                            disabled
                                            style={{ opacity: 0.7, cursor: 'not-allowed' }}
                                        />
                                    </div>
                                </div>
                                
                                <div style={{ 
                                    background: 'var(--bg-card)', 
                                    padding: '1rem', 
                                    borderRadius: '12px',
                                    border: formData.hasExtendedWarranty ? '1px solid var(--accent-primary)' : '1px solid var(--border)',
                                    marginBottom: '1.5rem'
                                }}>
                                    <div className="form-group" style={{ marginBottom: formData.hasExtendedWarranty ? '1rem' : 0 }}>
                                        <label style={{ 
                                            display: 'flex', 
                                            alignItems: 'center', 
                                            gap: '0.8rem',
                                            cursor: 'pointer'
                                        }}>
                                            <input
                                                type="checkbox"
                                                checked={formData.hasExtendedWarranty}
                                                onChange={e => setFormData({ 
                                                    ...formData, 
                                                    hasExtendedWarranty: e.target.checked,
                                                    extendedWarrantyMonths: e.target.checked ? formData.extendedWarrantyMonths : 0
                                                })}
                                                disabled={isScanning}
                                                style={{ 
                                                    width: '20px', 
                                                    height: '20px',
                                                    cursor: 'pointer'
                                                }}
                                            />
                                            <span style={{ 
                                                fontSize: '1rem',
                                                fontWeight: 600,
                                                color: formData.hasExtendedWarranty ? 'var(--accent-primary)' : 'var(--text-secondary)'
                                            }}>
                                                âœ¨ Extension de garantie souscrite
                                            </span>
                                        </label>
                                    </div>
                                    
                                    {formData.hasExtendedWarranty && (
                                        <div className="form-group" style={{ marginBottom: 0 }}>
                                            <label className="form-label">DurÃ©e de l'extension (mois)</label>
                                            <select
                                                className="form-select"
                                                value={formData.extendedWarrantyMonths}
                                                onChange={e => setFormData({ ...formData, extendedWarrantyMonths: parseInt(e.target.value) })}
                                                disabled={isScanning}
                                            >
                                                <option value="12">12 mois (+1 an)</option>
                                                <option value="24">24 mois (+2 ans)</option>
                                                <option value="36">36 mois (+3 ans)</option>
                                                <option value="48">48 mois (+4 ans)</option>
                                            </select>
                                        </div>
                                    )}
                                </div>
                                
                                <div style={{ display: 'flex', gap: '0.5rem', marginTop: '2rem' }}>
                                    <button 
                                        type="submit" 
                                        className="btn btn-primary" 
                                        style={{ flex: 1 }}
                                        disabled={isScanning}
                                    >
                                        {isEditing ? 'Sauvegarder' : 'Ajouter'}
                                    </button>
                                    <button 
                                        type="button" 
                                        className="btn btn-secondary" 
                                        onClick={onClose}
                                        disabled={isScanning}
                                    >
                                        Annuler
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            );
        }
        
        function DetailView({ console, onBack, onEdit, onDelete, getWarrantyStatus, getTotalWarrantyMonths, isUnderWarranty, activeTab, setActiveTab, addRepair }) {
            const warrantyManufacturer = getWarrantyStatus(console.purchaseDate, console.warrantyManufacturer);
            const warrantyLegal = getWarrantyStatus(console.purchaseDate, console.warrantyLegal);
            const totalWarrantyMonths = getTotalWarrantyMonths(console);
            const totalWarrantyStatus = getWarrantyStatus(console.purchaseDate, totalWarrantyMonths);
            const underWarranty = isUnderWarranty(console);
            const videos = VIDEO_TUTORIALS[console.model] || [];
            
            // GÃ©nÃ©rer le QR code au chargement
            useEffect(() => {
                if (activeTab === 'qrcode') {
                    generateQRCode();
                }
            }, [activeTab, console.id]);
            
            const generateQRCode = () => {
                const qrContainer = document.getElementById('qrcode');
                if (qrContainer) {
                    qrContainer.innerHTML = '';
                    
                    // PrÃ©parer les donnÃ©es publiques Ã  encoder
                    const publicData = {
                        b: console.brand,
                        m: console.model,
                        s: console.serialNumber,
                        p: console.purchaseDate,
                        wm: console.warrantyManufacturer,
                        wl: console.warrantyLegal,
                        he: console.hasExtendedWarranty || false,
                        em: console.extendedWarrantyMonths || 0,
                        r: console.repairs || []
                    };
                    
                    // Encoder en base64 compressÃ©
                    const encodedData = btoa(JSON.stringify(publicData));
                    
                    // Utiliser un service de raccourcissement ou donnÃ©es directes
                    // Pour l'instant, on gÃ©nÃ¨re un hash court et on stocke localement
                    const consoleHash = btoa(console.id.toString()).substring(0, 8);
                    
                    // Stocker dans sessionStorage pour la dÃ©mo
                    sessionStorage.setItem(`console_${consoleHash}`, encodedData);
                    
                    // URL simplifiÃ©e - il faudra hÃ©berger l'app pour que Ã§a fonctionne vraiment
                    const baseUrl = window.location.href.split('?')[0];
                    const consoleUrl = `${baseUrl}?data=${encodedData}`;
                    
                    new QRCode(qrContainer, {
                        text: consoleUrl,
                        width: 256,
                        height: 256,
                        colorDark: '#0a0e1a',
                        colorLight: '#ffffff',
                        correctLevel: QRCode.CorrectLevel.M // RÃ©duit Ã  M pour URL plus courte
                    });
                }
            };
            
            const downloadQRCode = () => {
                const canvas = document.querySelector('#qrcode canvas');
                if (canvas) {
                    const link = document.createElement('a');
                    link.download = `QR_${console.model.replace(/\s/g, '_')}_${console.serialNumber}.png`;
                    link.href = canvas.toDataURL();
                    link.click();
                }
            };
            
            const printQRCode = () => {
                const printWindow = window.open('', '_blank');
                const canvas = document.querySelector('#qrcode canvas');
                if (canvas && printWindow) {
                    printWindow.document.write(`
                        <html>
                        <head>
                            <title>QR Code - ${console.model}</title>
                            <style>
                                body { 
                                    font-family: Arial, sans-serif; 
                                    text-align: center; 
                                    padding: 40px; 
                                }
                                h1 { margin-bottom: 10px; }
                                p { color: #666; margin-bottom: 30px; }
                                img { border: 10px solid #fff; box-shadow: 0 0 20px rgba(0,0,0,0.1); }
                            </style>
                        </head>
                        <body>
                            <h1>${console.model}</h1>
                            <p>NÂ° SÃ©rie: ${console.serialNumber}</p>
                            <img src="${canvas.toDataURL()}" />
                            <p style="margin-top: 20px; font-size: 12px;">
                                Scannez ce code pour accÃ©der Ã  la fiche technique
                            </p>
                        </body>
                        </html>
                    `);
                    printWindow.document.close();
                    setTimeout(() => {
                        printWindow.print();
                    }, 250);
                }
            };
            
            return (
                <>
                    <div className="app-header">
                        <div className="header-content">
                            <button className="btn btn-secondary" onClick={onBack}>
                                â† Retour
                            </button>
                            <div style={{ display: 'flex', gap: '0.5rem' }}>
                                <button className="btn btn-secondary" onClick={() => onEdit(console)}>
                                    Modifier
                                </button>
                                <button className="btn btn-secondary" onClick={() => onDelete(console.id)}>
                                    Supprimer
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div className="container">
                        <div className="console-card" style={{ marginBottom: '2rem' }}>
                            <div className="console-header">
                                <span className={`console-brand brand-${console.brand}`}>
                                    {console.brand.toUpperCase()}
                                </span>
                            </div>
                            <div className="console-model" style={{ fontSize: '2rem', marginBottom: '1.5rem' }}>
                                {console.model}
                            </div>
                            <div className="console-info">
                                <div className="info-row">
                                    <span className="info-label">NumÃ©ro de sÃ©rie</span>
                                    <span className="info-value">{console.serialNumber}</span>
                                </div>
                                <div className="info-row">
                                    <span className="info-label">Date d'achat</span>
                                    <span className="info-value">
                                        {new Date(console.purchaseDate).toLocaleDateString('fr-FR')}
                                    </span>
                                </div>
                            </div>
                        </div>
                        
                        <div className="tabs">
                            <button
                                className={`tab ${activeTab === 'info' ? 'active' : ''}`}
                                onClick={() => setActiveTab('info')}
                            >
                                Informations
                            </button>
                            <button
                                className={`tab ${activeTab === 'assistance' ? 'active' : ''}`}
                                onClick={() => setActiveTab('assistance')}
                            >
                                ðŸ†˜ Assistance Panne
                            </button>
                            <button
                                className={`tab ${activeTab === 'qrcode' ? 'active' : ''}`}
                                onClick={() => setActiveTab('qrcode')}
                            >
                                QR Code
                            </button>
                            <button
                                className={`tab ${activeTab === 'repairs' ? 'active' : ''}`}
                                onClick={() => setActiveTab('repairs')}
                            >
                                RÃ©parations ({console.repairs?.length || 0})
                            </button>
                            <button
                                className={`tab ${activeTab === 'tutorials' ? 'active' : ''}`}
                                onClick={() => setActiveTab('tutorials')}
                            >
                                Tutoriels ({videos.length})
                            </button>
                        </div>
                        
                        {activeTab === 'info' && (
                            <div>
                                <div className="stat-card" style={{ marginBottom: '1rem' }}>
                                    <div className="stat-label">Garantie Constructeur</div>
                                    <div style={{ marginTop: '1rem' }}>
                                        <span className={`warranty-status ${warrantyManufacturer.class}`}>
                                            {warrantyManufacturer.text}
                                        </span>
                                    </div>
                                    <div style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: 'var(--text-secondary)' }}>
                                        DurÃ©e: {console.warrantyManufacturer} mois
                                    </div>
                                </div>
                                
                                <div className="stat-card" style={{ marginBottom: '1rem' }}>
                                    <div className="stat-label">Garantie LÃ©gale (2 ans)</div>
                                    <div style={{ marginTop: '1rem' }}>
                                        <span className={`warranty-status ${warrantyLegal.class}`}>
                                            {warrantyLegal.text}
                                        </span>
                                    </div>
                                    <div style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: 'var(--text-secondary)' }}>
                                        DurÃ©e: {console.warrantyLegal} mois
                                    </div>
                                </div>
                                
                                {console.hasExtendedWarranty && (
                                    <div className="stat-card" style={{ 
                                        border: '2px solid var(--accent-primary)',
                                        background: 'linear-gradient(135deg, var(--bg-card) 0%, rgba(0, 217, 255, 0.05) 100%)'
                                    }}>
                                        <div className="stat-label" style={{ color: 'var(--accent-primary)' }}>
                                            âœ¨ Extension de Garantie
                                        </div>
                                        <div style={{ marginTop: '1rem' }}>
                                            <span className="warranty-status warranty-active">
                                                +{console.extendedWarrantyMonths} mois
                                            </span>
                                        </div>
                                        <div style={{ marginTop: '1rem', padding: '1rem', background: 'var(--bg-secondary)', borderRadius: '8px' }}>
                                            <div style={{ fontWeight: 600, marginBottom: '0.5rem', color: 'var(--accent-primary)' }}>
                                                Garantie Totale
                                            </div>
                                            <div style={{ fontSize: '1.5rem', fontWeight: 700 }}>
                                                {totalWarrantyMonths} mois
                                            </div>
                                            <div style={{ marginTop: '0.5rem' }}>
                                                <span className={`warranty-status ${totalWarrantyStatus.class}`}>
                                                    {totalWarrantyStatus.text}
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                )}
                            </div>
                        )}
                        
                        {activeTab === 'assistance' && (
                            <div>
                                {underWarranty ? (
                                    <div style={{ 
                                        background: 'linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(16, 185, 129, 0.05) 100%)',
                                        border: '2px solid var(--success)',
                                        borderRadius: '16px',
                                        padding: '2rem',
                                        textAlign: 'center'
                                    }}>
                                        <div style={{ fontSize: '4rem', marginBottom: '1rem' }}>âœ…</div>
                                        <h3 style={{ 
                                            fontFamily: 'Orbitron, sans-serif',
                                            fontSize: '1.5rem',
                                            color: 'var(--success)',
                                            marginBottom: '1rem'
                                        }}>
                                            Console Sous Garantie
                                        </h3>
                                        <p style={{ fontSize: '1.1rem', color: 'var(--text-secondary)', marginBottom: '2rem' }}>
                                            Votre console est encore couverte par la garantie ({totalWarrantyStatus.text})
                                        </p>
                                        
                                        <div style={{ 
                                            background: 'var(--bg-card)',
                                            padding: '1.5rem',
                                            borderRadius: '12px',
                                            marginBottom: '1.5rem'
                                        }}>
                                            <div style={{ fontSize: '1.2rem', fontWeight: 600, marginBottom: '0.5rem' }}>
                                                ðŸ“ SAV Micromania
                                            </div>
                                            <p style={{ color: 'var(--text-secondary)', fontSize: '0.95rem' }}>
                                                Rendez-vous en magasin Micromania avec votre facture et votre console
                                            </p>
                                        </div>
                                        
                                        <a 
                                            href="https://www.micromania.fr/service-client#sav"
                                            target="_blank"
                                            rel="noopener noreferrer"
                                            className="btn btn-primary"
                                            style={{ 
                                                textDecoration: 'none',
                                                display: 'inline-block',
                                                fontSize: '1.1rem'
                                            }}
                                        >
                                            ðŸ”— AccÃ©der au SAV Micromania
                                        </a>
                                    </div>
                                ) : (
                                    <div style={{ 
                                        background: 'linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(239, 68, 68, 0.05) 100%)',
                                        border: '2px solid var(--danger)',
                                        borderRadius: '16px',
                                        padding: '2rem',
                                        textAlign: 'center'
                                    }}>
                                        <div style={{ fontSize: '4rem', marginBottom: '1rem' }}>âš ï¸</div>
                                        <h3 style={{ 
                                            fontFamily: 'Orbitron, sans-serif',
                                            fontSize: '1.5rem',
                                            color: 'var(--danger)',
                                            marginBottom: '1rem'
                                        }}>
                                            Console Hors Garantie
                                        </h3>
                                        <p style={{ fontSize: '1.1rem', color: 'var(--text-secondary)', marginBottom: '2rem' }}>
                                            Votre garantie a expirÃ©. Nous vous recommandons un rÃ©parateur professionnel.
                                        </p>
                                        
                                        <div style={{ 
                                            background: 'var(--bg-card)',
                                            padding: '1.5rem',
                                            borderRadius: '12px',
                                            marginBottom: '1.5rem'
                                        }}>
                                            <div style={{ fontSize: '1.2rem', fontWeight: 600, marginBottom: '0.5rem' }}>
                                                ðŸ”§ Tech-Cleaner
                                            </div>
                                            <p style={{ color: 'var(--text-secondary)', fontSize: '0.95rem', marginBottom: '1rem' }}>
                                                RÃ©parateur professionnel de consoles de jeux
                                            </p>
                                            <div style={{ 
                                                display: 'flex',
                                                gap: '0.5rem',
                                                justifyContent: 'center',
                                                flexWrap: 'wrap',
                                                fontSize: '0.9rem',
                                                color: 'var(--text-muted)'
                                            }}>
                                                <span>âœ“ Devis gratuit</span>
                                                <span>â€¢</span>
                                                <span>âœ“ RÃ©paration rapide</span>
                                                <span>â€¢</span>
                                                <span>âœ“ Garantie piÃ¨ces</span>
                                            </div>
                                        </div>
                                        
                                        <a 
                                            href="https://www.techcleaner.fr"
                                            target="_blank"
                                            rel="noopener noreferrer"
                                            className="btn btn-primary"
                                            style={{ 
                                                textDecoration: 'none',
                                                display: 'inline-block',
                                                fontSize: '1.1rem'
                                            }}
                                        >
                                            ðŸ”— Visiter Tech-Cleaner
                                        </a>
                                    </div>
                                )}
                            </div>
                        )}
                        
                        {activeTab === 'qrcode' && (
                            <div className="qr-section">
                                <div className="qr-title">ðŸ“± QR Code - Fiche Technique Publique</div>
                                
                                {window.location.protocol === 'file:' && (
                                    <div style={{
                                        background: 'rgba(245, 158, 11, 0.1)',
                                        border: '1px solid var(--warning)',
                                        borderRadius: '12px',
                                        padding: '1rem',
                                        marginBottom: '1rem',
                                        color: 'var(--warning)'
                                    }}>
                                        <strong>âš ï¸ Note importante :</strong> Le QR code ne fonctionnera correctement que si l'application est hÃ©bergÃ©e sur un serveur web (http:// ou https://). 
                                        En fichier local (file://), le QR code peut ne pas fonctionner sur tous les appareils.
                                        <br /><br />
                                        <strong>Solution :</strong> HÃ©bergez l'application sur un serveur web gratuit (GitHub Pages, Netlify, Vercel, etc.) pour que les QR codes fonctionnent parfaitement.
                                    </div>
                                )}
                                
                                <div className="qr-instructions">
                                    <strong>Ce QR code donne accÃ¨s Ã  une fiche technique publique</strong> de votre console que n'importe qui peut consulter.
                                    Imprimez-le et collez-le sur votre console pour un accÃ¨s rapide aux informations (garanties, historique des rÃ©parations, etc.).
                                </div>
                                <div className="qr-container">
                                    <div className="qr-code-wrapper">
                                        <div id="qrcode"></div>
                                    </div>
                                    <div className="qr-actions">
                                        <button className="btn btn-primary" onClick={downloadQRCode}>
                                            ðŸ’¾ TÃ©lÃ©charger PNG
                                        </button>
                                        <button className="btn btn-secondary" onClick={printQRCode}>
                                            ðŸ–¨ï¸ Imprimer
                                        </button>
                                    </div>
                                    <div className="qr-instructions" style={{ fontSize: '0.85rem', marginTop: '1rem' }}>
                                        ðŸ’¡ <strong>Conseil:</strong> Plastifiez le QR code avant de le coller pour le protÃ©ger de l'usure
                                        <br />
                                        ðŸŒ <strong>Partage:</strong> Toute personne qui scanne ce code pourra voir les infos de cette console
                                    </div>
                                </div>
                            </div>
                        )}
                        
                        {activeTab === 'repairs' && (
                            <div>
                                {console.repairs && console.repairs.length > 0 ? (
                                    console.repairs.map(repair => (
                                        <div key={repair.id} className="repair-item">
                                            <div className="repair-date">ðŸ“… {repair.date}</div>
                                            <div className="repair-type">{repair.issue}</div>
                                            <div className="info-row">
                                                <span className="info-label">Lieu</span>
                                                <span className="info-value">{repair.location}</span>
                                            </div>
                                            <div className="info-row">
                                                <span className="info-label">CoÃ»t</span>
                                                <span className="info-value">{repair.cost}</span>
                                            </div>
                                        </div>
                                    ))
                                ) : (
                                    <div className="empty-state">
                                        <div className="empty-icon">ðŸ”§</div>
                                        <div className="empty-text">Aucune rÃ©paration enregistrÃ©e</div>
                                    </div>
                                )}
                                <button
                                    className="btn btn-primary"
                                    style={{ width: '100%', marginTop: '1rem' }}
                                    onClick={addRepair}
                                >
                                    + Ajouter une rÃ©paration
                                </button>
                            </div>
                        )}
                        
                        {activeTab === 'tutorials' && (
                            <div>
                                {videos.length > 0 ? (
                                    <div className="video-grid">
                                        {videos.map(video => (
                                            <div key={video.id} className="video-card">
                                                <div className="video-thumbnail">
                                                    <iframe
                                                        src={`https://www.youtube.com/embed/${video.id}`}
                                                        frameBorder="0"
                                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                                        allowFullScreen
                                                    ></iframe>
                                                </div>
                                                <div className="video-info">
                                                    <div className="video-title">{video.title}</div>
                                                    <div className="video-description">{video.description}</div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                ) : (
                                    <div className="empty-state">
                                        <div className="empty-icon">ðŸŽ¥</div>
                                        <div className="empty-text">
                                            Aucun tutoriel disponible pour ce modÃ¨le
                                        </div>
                                    </div>
                                )}
                            </div>
                        )}
                    </div>
                </>
            );
        }
        
        ReactDOM.render(<App />, document.getElementById('root'));
        
        // Service Worker pour PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                const swCode = `
                    const CACHE_NAME = 'console-tracker-v1';
                    const urlsToCache = ['/'];
                    
                    self.addEventListener('install', event => {
                        event.waitUntil(
                            caches.open(CACHE_NAME)
                                .then(cache => cache.addAll(urlsToCache))
                        );
                    });
                    
                    self.addEventListener('fetch', event => {
                        event.respondWith(
                            caches.match(event.request)
                                .then(response => response || fetch(event.request))
                        );
                    });
                `;
                
                const blob = new Blob([swCode], { type: 'application/javascript' });
                const swUrl = URL.createObjectURL(blob);
                
                navigator.serviceWorker.register(swUrl)
                    .then(registration => console.log('SW registered'))
                    .catch(err => console.log('SW registration failed'));
            });
        }
    </script>
</body>
</html>